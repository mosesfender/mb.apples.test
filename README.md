
# Тестовое задание

## Установка

### Если необходимо установить яблоки в уже существующий и настроенный шаблон, то начать нужно со следующих действий:

Предполагается, что все знакомы с устройством yii2-advanced, и через это приложение уже инициализировано, включая подключение к БД и таблицу user.

Это демоприложение вынесено в своё пространство имён. Имеется смысл клонировать репозиторий в любое место, после чего скопировать директорию svs_apples непосредственно в действующий шаблон.

После этого следует в файл /common/config/bootstrap.php добавить строку:

```php
Yii::setAlias('@svs/apples', dirname(dirname(__DIR__)) . '/svs_apples');
```
Это позволит без лишних причуд использовать пространство имён svs\apples, в которое помещены все файлы.

### Если же устанавливаем всё изначально новое, то:

Клонируем в нужное место репозиторий
```
https://github.com/mosesfender/mb.apples.test.git
```
Установим фреймворк:
```
php composer self-update
php composer update
```
Создадим БД, или воспользуемся имеющейся (таблицы имеют префикс svs, поэтому скорее всего аналогичных в имеющейся БД может не быть).
Если БД всё же создаётся, то нужно указать её DSN где-то в /common/config/main.php.
Затем по обычному порядку поднимаем миграции:
```
php yii migrate/up
php yii migrate/up --migrationPath=@svs/apples/migrations
```
Если по каким-то причинам не хватает файлов `common/config/main-local.php`, `common/config/params-local.php`, `svs_apples/config/main-local.php`, `svs_apples/config/params-local.php` — создайте их, с содержимым:
```php
<?php
return [];
```
